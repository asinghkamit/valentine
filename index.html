<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bbabuee My Valentine?</title>

<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Poppins:wght@600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:Poppins;
background:linear-gradient(135deg,#ff9a9e,#fecfef);
overflow:hidden;
}

.card{
width:90%;
max-width:650px;
background:rgba(255,255,255,0.7);
padding:40px;
border-radius:30px;
text-align:center;
z-index:10;
}

.card img{
max-width:350px;
border-radius:15px;
margin-bottom:15px;
}

h1{
font-family:'Indie Flower';
font-size:2.6rem;
color:#d6335c;
}

p{margin:15px 0;font-size:1.2rem}

.btn-container{
display:flex;
gap:20px;
justify-content:center;
}

button{
padding:14px 30px;
border:none;
border-radius:40px;
font-size:1.1rem;
cursor:pointer;
}

#yesBtn{background:#ff4d6d;color:white}
#noBtn{background:white;color:#ff4d6d}

canvas{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
pointer-events:none;
z-index:5;
}
</style>
</head>

<body>

<!-- AUTOPLAY TRICK AUDIO -->
<audio id="loveSong" autoplay muted loop playsinline>
<source src="I_Wanna_Be_Yours.mp3" type="audio/mpeg">
</audio>

<canvas id="hearts"></canvas>

<div class="card" id="card">
<img src="https://giffiles.alphacoders.com/218/218702.gif">
<h1>Vandana will you be my Valentine?</h1>
<p>I promise to buy you momos ü•ü</p>

<div class="btn-container">
<button id="yesBtn" onclick="sayYes()">Yes</button>
<button id="noBtn" onmouseover="moveNo()">No</button>
</div>
</div>

<script>
/* ---------------- MUSIC AUTOPLAY BEST TRICK ---------------- */

const audio = document.getElementById("loveSong");

function forcePlay(){
audio.muted=false;
audio.play().catch(()=>{});
}

window.addEventListener("load",()=>{
audio.play().then(()=>{audio.muted=false}).catch(()=>{});
});

document.addEventListener("click", forcePlay, {once:true});
document.addEventListener("touchstart", forcePlay, {once:true});

/* ---------------- RUNAWAY NO BUTTON ---------------- */

const noBtn=document.getElementById("noBtn");

function moveNo(){
const x=Math.random()*(window.innerWidth-100);
const y=Math.random()*(window.innerHeight-50);
noBtn.style.position="absolute";
noBtn.style.left=x+"px";
noBtn.style.top=y+"px";
}

/* ---------------- HEART BURST ENGINE ---------------- */

const canvas=document.getElementById("hearts");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let hearts=[];
let heartMode=false;

function Heart(x,y){
this.x=x;
this.y=y;
this.size=10+Math.random()*10;
this.vx=(Math.random()-0.5)*6;
this.vy=(Math.random()-0.5)*6;
this.alpha=1;
}

Heart.prototype.draw=function(){
ctx.globalAlpha=this.alpha;
ctx.fillStyle="red";
ctx.beginPath();
ctx.moveTo(this.x,this.y);
ctx.bezierCurveTo(this.x-5,this.y-5,this.x-10,this.y+5,this.x,this.y+10);
ctx.bezierCurveTo(this.x+10,this.y+5,this.x+5,this.y-5,this.x,this.y);
ctx.fill();
ctx.globalAlpha=1;
}

Heart.prototype.update=function(){
this.x+=this.vx;
this.y+=this.vy;
this.alpha-=0.02;
}

function burstHearts(){
for(let i=0;i<40;i++){
hearts.push(new Heart(canvas.width/2,canvas.height/2));
}
}

function animateHearts(){
requestAnimationFrame(animateHearts);
ctx.clearRect(0,0,canvas.width,canvas.height);

hearts.forEach((h,i)=>{
h.update();
h.draw();
if(h.alpha<=0) hearts.splice(i,1);
});
}
animateHearts();

/* ---------------- YES FLOW FIXED ---------------- */

function sayYes(){

forcePlay();

document.getElementById("yesBtn").remove();
document.getElementById("noBtn").remove();

heartMode=true;
let heartInterval=setInterval(burstHearts,400);

setTimeout(()=>{
clearInterval(heartInterval);

document.getElementById("card").innerHTML=`
<img src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif">
<h1>YEEEY! ‚ù§Ô∏è</h1>
<p>I knew you would say yes! See you soon!</p>
`;

setTimeout(()=>{
let url="https://wa.me/918968492244?text="+encodeURIComponent("Yes! I will be your Valentine babu! üòò‚ù§Ô∏è");
window.location.href=url;
},5000);

},5000);
}
</script>

</body>
</html>
